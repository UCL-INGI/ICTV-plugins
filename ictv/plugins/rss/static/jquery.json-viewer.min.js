/**
 * jQuery json-viewer
 * @author: Alexandre Bodelot <alexandre.bodelot@gmail.com>
 */
!function(s){function e(s){return s instanceof Object&&Object.keys(s).length>0}function l(s){var e=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/
return e.test(s)}function n(s,t){var a=""
if("string"==typeof s)s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),a+=l(s)?'<a href="'+s+'" class="json-string" target="_blank">'+s+"</a>":'<span class="json-string">"'+s+'"</span>'
else if("number"==typeof s)a+='<span class="json-literal">'+s+"</span>"
else if("boolean"==typeof s)a+='<span class="json-literal">'+s+"</span>"
else if(null===s)a+='<span class="json-literal">null</span>'
else if(s instanceof Array)if(s.length>0){a+='[<ol class="json-array">'
for(var i=0;i<s.length;++i)a+="<li>",e(s[i])&&(a+='<a href class="json-toggle"></a>'),a+=n(s[i],t),i<s.length-1&&(a+=","),a+="</li>"
a+="</ol>]"}else a+="[]"
else if("object"==typeof s){var o=Object.keys(s).length
if(o>0){a+='{<ul class="json-dict">'
for(var r in s)if(s.hasOwnProperty(r)){a+="<li>"
var c=t.withQuotes?'<span class="json-string">"'+r+'"</span>':r
a+=e(s[r])?'<a href class="json-toggle">'+c+"</a>":c,a+=": "+n(s[r],t),--o>0&&(a+=","),a+="</li>"}a+="</ul>}"}else a+="{}"}return a}s.fn.jsonViewer=function(l,t){return t=t||{},this.each(function(){var a=n(l,t)
e(l)&&(a='<a href class="json-toggle"></a>'+a),s(this).html(a),s(this).off("click"),s(this).on("click","a.json-toggle",function(){var e=s(this).toggleClass("collapsed").siblings("ul.json-dict, ol.json-array")
if(e.toggle(),e.is(":visible"))e.siblings(".json-placeholder").remove()
else{var l=e.children("li").length,n=l+(l>1?" items":" item")
e.after('<a href class="json-placeholder">'+n+"</a>")}return!1}),s(this).on("click","a.json-placeholder",function(){return s(this).siblings("a.json-toggle").click(),!1}),1==t.collapsed&&s(this).find("a.json-toggle").click()})}}(jQuery)
